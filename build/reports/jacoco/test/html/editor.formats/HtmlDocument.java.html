<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>HtmlDocument.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">assignment1</a> &gt; <a href="index.source.html" class="el_package">editor.formats</a> &gt; <span class="el_source">HtmlDocument.java</span></div><h1>HtmlDocument.java</h1><pre class="source lang-java linenums">package editor.formats;

import editor.core.AbstractDocument;

import java.nio.charset.StandardCharsets;

/**
 * HTML document implementation.
 * Simulates HTML-specific save and render behavior.
 */
public class HtmlDocument extends AbstractDocument {
    
    public static final String FORMAT_KEY = &quot;html&quot;;
    
    public HtmlDocument(String title) {
<span class="fc" id="L16">        super(title);</span>
<span class="fc" id="L17">    }</span>
    
    @Override
    public byte[] save() {
<span class="fc" id="L21">        String htmlContent = &quot;&lt;!DOCTYPE html&gt;\n&quot; +</span>
                &quot;&lt;html lang=\&quot;en\&quot;&gt;\n&quot; +
                &quot;&lt;head&gt;\n&quot; +
                &quot;    &lt;meta charset=\&quot;UTF-8\&quot;&gt;\n&quot; +
                &quot;    &lt;meta name=\&quot;viewport\&quot; content=\&quot;width=device-width, initial-scale=1.0\&quot;&gt;\n&quot; +
<span class="fc" id="L26">                &quot;    &lt;title&gt;&quot; + escapeHtml(title) + &quot;&lt;/title&gt;\n&quot; +</span>
                &quot;&lt;/head&gt;\n&quot; +
                &quot;&lt;body&gt;\n&quot; +
<span class="fc" id="L29">                &quot;    &lt;h1&gt;&quot; + escapeHtml(title) + &quot;&lt;/h1&gt;\n&quot; +</span>
                &quot;    &lt;div class=\&quot;content\&quot;&gt;\n&quot; +
<span class="fc" id="L31">                &quot;        &lt;p&gt;&quot; + escapeHtml(content).replace(&quot;\n&quot;, &quot;&lt;/p&gt;\n        &lt;p&gt;&quot;) + &quot;&lt;/p&gt;\n&quot; +</span>
                &quot;    &lt;/div&gt;\n&quot; +
                &quot;&lt;/body&gt;\n&quot; +
                &quot;&lt;/html&gt;&quot;;
<span class="fc" id="L35">        return htmlContent.getBytes(StandardCharsets.UTF_8);</span>
    }
    
    @Override
    public String render() {
<span class="fc" id="L40">        return &quot;[HTML Preview]\n&quot; +</span>
               &quot;&lt;html&gt;\n&quot; +
               &quot;  &lt;head&gt;&lt;title&gt;&quot; + title + &quot;&lt;/title&gt;&lt;/head&gt;\n&quot; +
               &quot;  &lt;body&gt;\n&quot; +
               &quot;    &lt;h1&gt;&quot; + title + &quot;&lt;/h1&gt;\n&quot; +
               &quot;    &lt;p&gt;&quot; + content + &quot;&lt;/p&gt;\n&quot; +
               &quot;  &lt;/body&gt;\n&quot; +
               &quot;&lt;/html&gt;\n&quot; +
               &quot;[End of HTML Preview]&quot;;
    }
    
    @Override
    public String getFormatKey() {
<span class="fc" id="L53">        return FORMAT_KEY;</span>
    }
    
    private String escapeHtml(String text) {
<span class="pc bpc" id="L57" title="1 of 2 branches missed.">        if (text == null) return &quot;&quot;;</span>
<span class="fc" id="L58">        return text.replace(&quot;&amp;&quot;, &quot;&amp;amp;&quot;)</span>
<span class="fc" id="L59">                   .replace(&quot;&lt;&quot;, &quot;&amp;lt;&quot;)</span>
<span class="fc" id="L60">                   .replace(&quot;&gt;&quot;, &quot;&amp;gt;&quot;)</span>
<span class="fc" id="L61">                   .replace(&quot;\&quot;&quot;, &quot;&amp;quot;&quot;);</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>