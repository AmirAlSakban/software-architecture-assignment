<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>CarConfigurationWizard.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">assignment1</a> &gt; <a href="index.source.html" class="el_package">car.builder</a> &gt; <span class="el_source">CarConfigurationWizard.java</span></div><h1>CarConfigurationWizard.java</h1><pre class="source lang-java linenums">package car.builder;

import car.domain.*;

/**
 * Director class that guides step-by-step car configuration.
 * Ensures configuration follows the correct order and provides
 * pre-configured templates.
 */
public class CarConfigurationWizard {
    
    private final CarBuilder builder;
    
<span class="fc" id="L14">    public CarConfigurationWizard() {</span>
<span class="fc" id="L15">        this.builder = new CarBuilder();</span>
<span class="fc" id="L16">    }</span>
    
<span class="fc" id="L18">    public CarConfigurationWizard(CarBuilder builder) {</span>
<span class="fc" id="L19">        this.builder = builder;</span>
<span class="fc" id="L20">    }</span>
    
    /**
     * Step 1: Select the car model (required first step).
     * @param model the car model
     * @return step 2 interface
     */
    public EngineStep selectModel(CarModel model) {
<span class="fc" id="L28">        builder.withModel(model);</span>
<span class="fc" id="L29">        return new EngineStepImpl();</span>
    }
    
    // Step interfaces for enforcing build order
    
    public interface EngineStep {
        TransmissionStep selectEngine(EngineType engine);
    }
    
    public interface TransmissionStep {
        OptionsStep selectTransmission(TransmissionType transmission);
    }
    
    public interface OptionsStep {
        OptionsStep setColor(Color color);
        OptionsStep addInteriorFeature(InteriorFeature feature);
        OptionsStep addExteriorFeature(ExteriorFeature feature);
        OptionsStep addSafetyFeature(SafetyFeature feature);
        OptionsStep withSunroof();
        Car build();
    }
    
    // Step implementations
    
<span class="fc" id="L53">    private class EngineStepImpl implements EngineStep {</span>
        @Override
        public TransmissionStep selectEngine(EngineType engine) {
<span class="fc" id="L56">            builder.withEngine(engine);</span>
<span class="fc" id="L57">            return new TransmissionStepImpl();</span>
        }
    }
    
<span class="fc" id="L61">    private class TransmissionStepImpl implements TransmissionStep {</span>
        @Override
        public OptionsStep selectTransmission(TransmissionType transmission) {
<span class="fc" id="L64">            builder.withTransmission(transmission);</span>
<span class="fc" id="L65">            return new OptionsStepImpl();</span>
        }
    }
    
<span class="fc" id="L69">    private class OptionsStepImpl implements OptionsStep {</span>
        @Override
        public OptionsStep setColor(Color color) {
<span class="fc" id="L72">            builder.setColor(color);</span>
<span class="fc" id="L73">            return this;</span>
        }
        
        @Override
        public OptionsStep addInteriorFeature(InteriorFeature feature) {
<span class="fc" id="L78">            builder.addInteriorFeature(feature);</span>
<span class="fc" id="L79">            return this;</span>
        }
        
        @Override
        public OptionsStep addExteriorFeature(ExteriorFeature feature) {
<span class="fc" id="L84">            builder.addExteriorFeature(feature);</span>
<span class="fc" id="L85">            return this;</span>
        }
        
        @Override
        public OptionsStep addSafetyFeature(SafetyFeature feature) {
<span class="fc" id="L90">            builder.addSafetyFeature(feature);</span>
<span class="fc" id="L91">            return this;</span>
        }
        
        @Override
        public OptionsStep withSunroof() {
<span class="fc" id="L96">            builder.withSunroof();</span>
<span class="fc" id="L97">            return this;</span>
        }
        
        @Override
        public Car build() {
<span class="fc" id="L102">            return builder.build();</span>
        }
    }
    
    // Pre-configured templates
    
    /**
     * Creates a basic sedan with minimal options.
     * @param color the car color
     * @return configured Car
     */
    public Car buildBasicSedan(Color color) {
<span class="fc" id="L114">        return builder.reset()</span>
<span class="fc" id="L115">                .withModel(CarModel.SEDAN)</span>
<span class="fc" id="L116">                .withEngine(EngineType.V6)</span>
<span class="fc" id="L117">                .withTransmission(TransmissionType.AUTOMATIC)</span>
<span class="fc" id="L118">                .setColor(color)</span>
<span class="fc" id="L119">                .addSafetyFeature(SafetyFeature.ABS)</span>
<span class="fc" id="L120">                .build();</span>
    }
    
    /**
     * Creates a fully-loaded SUV with all options.
     * @param color the car color
     * @return configured Car
     */
    public Car buildLuxurySUV(Color color) {
<span class="fc" id="L129">        return builder.reset()</span>
<span class="fc" id="L130">                .withModel(CarModel.SUV)</span>
<span class="fc" id="L131">                .withEngine(EngineType.V8)</span>
<span class="fc" id="L132">                .withTransmission(TransmissionType.AUTOMATIC)</span>
<span class="fc" id="L133">                .setColor(color)</span>
<span class="fc" id="L134">                .addInteriorFeatures(InteriorFeature.LEATHER, InteriorFeature.GPS, InteriorFeature.SOUND_SYSTEM)</span>
<span class="fc" id="L135">                .addExteriorFeature(ExteriorFeature.SUNROOF)</span>
<span class="fc" id="L136">                .addExteriorFeature(ExteriorFeature.SPORT_RIMS)</span>
<span class="fc" id="L137">                .addSafetyFeatures(SafetyFeature.ABS, SafetyFeature.AIRBAGS, SafetyFeature.REAR_CAMERA)</span>
<span class="fc" id="L138">                .build();</span>
    }
    
    /**
     * Creates a sports car with performance options.
     * @param color the car color
     * @return configured Car
     */
    public Car buildSportsCar(Color color) {
<span class="fc" id="L147">        return builder.reset()</span>
<span class="fc" id="L148">                .withModel(CarModel.SPORTS)</span>
<span class="fc" id="L149">                .withEngine(EngineType.V8)</span>
<span class="fc" id="L150">                .withTransmission(TransmissionType.MANUAL)</span>
<span class="fc" id="L151">                .setColor(color)</span>
<span class="fc" id="L152">                .addInteriorFeatures(InteriorFeature.LEATHER, InteriorFeature.SOUND_SYSTEM)</span>
<span class="fc" id="L153">                .addExteriorFeature(ExteriorFeature.SPORT_RIMS)</span>
<span class="fc" id="L154">                .addSafetyFeatures(SafetyFeature.ABS, SafetyFeature.AIRBAGS)</span>
<span class="fc" id="L155">                .build();</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>